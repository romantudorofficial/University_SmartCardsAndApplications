output on;


// 1) Select installer applet
// State Before: card powered up, no applet selected
// State After: installer selected (ready to CREATE)
// SW1: 0x90
0x00 0xA4 0x04 0x00 0x09 0xA0 0x00 0x00 0x00 0x62 0x03 0x01 0x08 0x01 0x7F;


// 2) CREATE Health applet (AID A00000006303010C06, initial PIN empty)
// State Before: installer selected
// State After: Health applet created & registered
// SW1: 0x90
0x80 0xB8 0x00 0x00 0x0B 0x09 0xA0 0x00 0x00 0x00 0x63 0x03 0x01 0x0C 0x07 0x00 0x7F;


// 3) Select Health applet
// State Before: applet installed, none selected
// State After: Health applet selected
// SW1: 0x90
0x00 0xA4 0x04 0x00 0x09 0xA0 0x00 0x00 0x00 0x63 0x03 0x01 0x0C 0x07 0x7F;


// 4) VERIFY PIN (wrong: "ABCD")
// State Before: 3 tries, not validated
// State After: tries 2, not validated, SW1: 0x6300
0x80 0x20 0x00 0x00 0x20 0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F 0x8E 0xD2 0xD0 0x57 0x54 0x8E 0xCE 0xFF 0x5F 0x01 0xAD 0x1C 0xC1 0x27 0x8F 0xEA 0x7F;


// 5) VERIFY PIN (correct: empty)
// State Before: 2 tries, not validated
// State After: tries 3, validated, SW1: 0x9000
0x80 0x20 0x00 0x00 0x20 0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F 0x27 0x9F 0xB7 0x4A 0x75 0x72 0x13 0x5E 0x8F 0x9B 0x8E 0xF6 0xD1 0xEE 0xE0 0x03 0x7F;


// 6) UPDATE PIN (empty → “12345”)
// State Before: PIN validated under empty
// State After: PIN set to “12345”, unvalidated, SW1: 0x9000
0x80 0x24 0x00 0x00 0x10 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x01 0x02 0x03 0x04 0x05 0x00 0x00 0x00 0x7F;


// 7) VERIFY old PIN “1234”
// State Before: 3 tries, not validated
// State After: tries→2, not validated, SW1: 0x6300
0x80 0x20 0x00 0x00 0x20 0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F 0x34 0x92 0x8F 0xD0 0x5C 0xCD 0x82 0x10 0x68 0x88 0x85 0x7E 0x73 0x49 0x96 0x1A 0x7F;


// 8) VERIFY new PIN “12345”
// State Before: 2 tries, not validated
// State After: tries→3, validated, SW1: 0x9000
0x80 0x20 0x00 0x00 0x20 0x00 0x01 0x02 0x03 0x04 0x05 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D 0x0E 0x0F 0xC4 0x40 0x23 0x1D 0x31 0xBF 0x99 0x01 0x7F 0xA1 0x86 0x4B 0xEB 0x0F 0xB9 0x92 0x7F;


// 9) GET PATIENT DATA
// State Before: PIN validated
// State After: returns 29 bytes, SW1: 0x9000
0x80 0x30 0x00 0x00 0x00 0x7F;


// 10) SET chronic diagnosis = 0x01
// SW1: 0x9000
0x80 0x40 0x00 0x00 0x01 0x01 0x7F;


// 11) SET chronic specialty = 0x02
// SW1: 0x9000
0x80 0x40 0x01 0x00 0x01 0x02 0x7F;


// 12) SET donor flag = 0x01
// SW1: 0x9000
0x80 0x40 0x02 0x00 0x01 0x01 0x7F;


// 13) ADD consult #1 (10,03,01/01/25)
// SW1: 0x9000
0x80 0x50 0x10 0x03 0x03 0x01 0x01 0x19 0x7F;


// 14) ADD consult #2 (11,04,02/02/25)
// SW1: 0x9000
0x80 0x50 0x11 0x04 0x03 0x02 0x02 0x19 0x7F;


// 15) ADD consult #3 (12,05,03/03/25)
// SW1: 0x9000
0x80 0x50 0x12 0x05 0x03 0x03 0x03 0x19 0x7F;


// 16) ADD consult #4 (13,06,04/04/25) – evicts #1
// SW1: 0x9000
0x80 0x50 0x13 0x06 0x03 0x04 0x04 0x19 0x7F;


// 17) GET PATIENT DATA (verify consult rotation)
// SW1: 0x9000
0x80 0x30 0x00 0x00 0x00 0x7F;


// 18) SET medical vacation 05/05/25–14/05/25
// SW1: 0x9000
0x80 0x60 0x00 0x00 0x06 0x05 0x05 0x19 0x0E 0x05 0x19 0x7F;


// 19) GET PATIENT DATA (verify vacation dates)
// SW1: 0x9000
0x80 0x30 0x00 0x00 0x00 0x7F;